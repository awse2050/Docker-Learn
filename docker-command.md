## Docker-Command

> 주로 쉘에서 사용되는 명령어를 위주로 정리해놓은 공간

> 외워두면 나쁠것은 없지만 직접 해보는 방법을 알고 있는 것 또한 중요하고

> 커맨드의 개수가 그렇게 많지 않으므로 손에 익으면 좋을 것으로 판단.

> 주로 Docker-compose 파일을 통해서 컨테이너를 실행하는 것으로 보인다. 추후 작성할 것


#### 1. images (목록 확인)

현재 Host OS에 생성되어 있는 Docker Image의 목록을 확인하는 커맨드이다

```
docker images
```


#### 2. ps (실행중인 목록 확인)

현재 실행중인 Docker 이미지의 목록을 확인하는 커맨드이다.
```
docker ps (-a)
```
이미지에 대한 여러가지 정보가 나타난다.

해당 커맨드에 `-a` 옵션을 추가하면 

어떤 이미지를 언제 시작하였고 언제 종료했는지에 대한 정보가 나타난다.


#### 3. start (이미지 시작)

이전에 실행했던 이미지 목록이 가진 REPOSITORY 를 이용해서 다시 RUN 될 수 있게 해준다

```
docker run ""Container ID""
```


#### 4. stop (종료)

실행중인 이미지를 종료하는 역할을 한다.

```
docker stop ""Container ID""
```

#### 5. rm (삭제)

운영체제의 프로세스와 달리 컨테이너가 종료되더라도 다시 실행하면 이전 상태가 유지된다

따라서 사용하지 않는 컨테이너는 rm 명령어를 통해 완전히 제거를 해야한다

```
docker rm "Container ID"
```

#### 6. build (이미지 생성)

도커이미지를 만들기 위한 작업을 하는 커맨드라고 생각하면된다

해당 경로에서 만들어져 있는 Dockerfile을 읽어서 이미지파일을 만든다

```
docker build -t "지정할 이미지 이름${image}"
```

이떄 ${image} 를 가지고 컨테이너를 `RUN` 커맨드를 사용하게 된다.


#### 7. run (시작)

start와 차이가 있다면 이전에 사용했던 컨테이너를 다시 시작하는 것과

새로 만들어낸 이미지를 시작한다는 점에서 살짝 다르다.

start - restart 의 차이라고 봐야할것 같다.

```
docker run "REPOSITORY"
```

+ 옵션

-i  (interactive) : 사용자가 입출력을 할 수 있는 상태로 한다

-t : 가상 터미널 환경을 에뮬레이션 하겠다는 말

-d : 컨테이너를 일반 프로세스가 아닌 데몬프로세스 형태로 실행하여 프로세스가 끝나도 유지되도록 한다

+ 만약 포트포워딩을 시키고 싶다면 `-p` 옵션을 사용한다.

```
docker run -p 포트번호:포워딩번호 "REPOSITORY"
```

#### 8. rmi (이미지 삭제)

컨테이너가 아닌 이미지를 삭제하는 커맨드이다.

삭제를 했을 때 해당 이미지로 컨테이너를 만들었다면 해당 컨테이너가 삭제되어있어야 이루어진다.

같이 삭제하려한다면 `-f` 옵션을 추가해서 사용한다.


```
docker rmi (-f) "Image ID"
```

`Image ID` 는 `images` 명령어를 통해 확인 할 수 있다.
